{
  "resourceType": "StructureDefinition",
  "id": "ncdhc-composition-document-preg-management-plans",
  "url": "http://build.fhir.org/ig/hl7au/au-fhir-childhealth/StructureDefinition/ncdhc-composition-document-preg-management-plans",
  "version": "current",
  "name": "NCDHCCompositionPregnancyManagementPlans",
  "title": "NCDHC Composition Pregnancy Management Plans",
  "status": "active",
  "description": "Composition based profile specifying the patient, encounter and other details for pregnancy care plans",
  "purpose": "The document at a minimum carries details on the following areas:\n\n   * Contains different types of care plans to manage and address issues that may arise throughout the expectant mother's current and or future pregnancies \n\nImplementers conforming to the NCDHC Implementation Guide, must follow the “mustSupport” guidelines as provided in the guidance page",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "fhirdocumentreference",
      "uri": "http://hl7.org/fhir/documentreference",
      "name": "FHIR DocumentReference"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Composition",
  "baseDefinition": "http://build.fhir.org/ig/hl7au/au-fhir-childhealth/StructureDefinition/ncdhc-composition-clinical-document-base",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition.identifier",
        "path": "Composition.identifier",
        "mustSupport": true
      },
      {
        "id": "Composition.status",
        "path": "Composition.status",
        "mustSupport": true
      },
      {
        "id": "Composition.type",
        "path": "Composition.type",
        "mustSupport": true
      },
      {
        "id": "Composition.type.coding",
        "path": "Composition.type.coding",
        "patternCoding": {
          "code": "PREGMGTPLNS",
          "system": "https://healthterminologies.gov.au/fhir/CodeSystem/ncdhc-hi-type-2"
        }
      },
      {
        "id": "Composition.category",
        "path": "Composition.category",
        "mustSupport": true
      },
      {
        "id": "Composition.category.coding",
        "path": "Composition.category.coding",
        "patternCoding": {
          "code": "ISSPLNS",
          "system": "https://healthterminologies.gov.au/fhir/CodeSystem/ncdhc-hi-category-1"
        }
      },
      {
        "id": "Composition.subject",
        "path": "Composition.subject",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://build.fhir.org/ig/hl7au/au-fhir-childhealth/StructureDefinition/ncdhc-patient-expectant-mother"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.encounter",
        "path": "Composition.encounter",
        "short": "Use Encounter.peroid to record the Date and Time and the Encounter.location to record venue where the consultation took place",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://build.fhir.org/ig/hl7au/au-fhir-childhealth/StructureDefinition/ncdhc-encounter-cdhr"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Composition.date",
        "path": "Composition.date",
        "mustSupport": true
      },
      {
        "id": "Composition.author",
        "path": "Composition.author",
        "mustSupport": true
      },
      {
        "id": "Composition.title",
        "path": "Composition.title",
        "fixedString": "Pregnancy Management Plan",
        "mustSupport": true
      },
      {
        "id": "Composition.confidentiality",
        "path": "Composition.confidentiality",
        "mustSupport": true
      },
      {
        "id": "Composition.attester.mode",
        "path": "Composition.attester.mode",
        "mustSupport": true
      },
      {
        "id": "Composition.attester.time",
        "path": "Composition.attester.time",
        "mustSupport": true
      },
      {
        "id": "Composition.attester.party",
        "path": "Composition.attester.party",
        "mustSupport": true
      },
      {
        "id": "Composition.custodian",
        "path": "Composition.custodian",
        "mustSupport": true
      },
      {
        "id": "Composition.relatesTo",
        "path": "Composition.relatesTo",
        "mustSupport": true
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code.coding"
            }
          ],
          "rules": "open",
          "ordered": false,
          "description": "Slice based on the code pattern"
        }
      },
      {
        "id": "Composition.section:pregMgtPlan",
        "path": "Composition.section",
        "sliceName": "pregMgtPlan",
        "min": 0,
        "max": "*"
      },
      {
        "id": "Composition.section:pregMgtPlan.title",
        "path": "Composition.section.title",
        "fixedString": "Plan section",
        "mustSupport": true
      },
      {
        "id": "Composition.section:pregMgtPlan.code",
        "path": "Composition.section.code",
        "mustSupport": true
      },
      {
        "id": "Composition.section:pregMgtPlan.code.coding",
        "path": "Composition.section.code.coding",
        "min": 1,
        "patternCoding": {
          "code": "423134005",
          "system": "http://snomed.info/sct"
        }
      },
      {
        "id": "Composition.section:pregMgtPlan.entry",
        "path": "Composition.section.entry",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://build.fhir.org/ig/hl7au/au-fhir-childhealth/StructureDefinition/ncdhc-careplan-pregnancy-management-plan"
            ]
          }
        ],
        "mustSupport": true
      }
    ]
  }
}
